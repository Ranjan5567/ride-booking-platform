graph TB
    FRONTEND[Frontend Next.js<br/>localhost:3000<br/>/auth /book /rides /analytics] -->|HTTP/REST| US[User Service<br/>Port 8001]
    FRONTEND -->|HTTP/REST| DS[Driver Service<br/>Port 8002]
    FRONTEND -->|HTTP/REST| RS[Ride Service<br/>Port 8003<br/>Orchestrator]
    
    US --> RDS1[(RDS DB<br/>users)]
    DS --> RDS2[(RDS DB<br/>drivers)]
    RS --> RDS3[(RDS DB<br/>rides)]
    
    RS -->|HTTP| PS[Payment Service<br/>Port 8004]
    PS --> RDS4[(RDS DB<br/>payments)]
    
    RS -->|HTTP| LAMBDA[Notification Lambda<br/>AWS]
    RS -->|Pub/Sub SDK| PUBSUB[Google Pub/Sub<br/>GCP]
    PUBSUB -->|Pull| ANALYTICS[Analytics Job<br/>Dataproc Flink]
    ANALYTICS --> FIRESTORE[(Firestore<br/>GCP)]
    RS -->|Read| FIRESTORE
    
    style RS fill:#FF6B6B,stroke:#232F3E,stroke-width:3px
    style LAMBDA fill:#FF9900,stroke:#232F3E
    style PUBSUB fill:#4285F4,stroke:#1A73E8
    style ANALYTICS fill:#4285F4,stroke:#1A73E8
    style FIRESTORE fill:#EA4335,stroke:#1A73E8
